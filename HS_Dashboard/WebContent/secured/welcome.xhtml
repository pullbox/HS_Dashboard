<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	template="/templates/tr-template.xhtml">

	<ui:define name="content">

		<f:metadata>
			<f:viewParam  name="username" value="#{welcomeBean.username}" />
		<!-- 	<f:viewAction  action="#{welcomeBean.init}" /> -->
		</f:metadata>

		<h:form id="welcome">
			<h:message id="messages" showDetail="true" autoUpdate="true"
				closable="true" />


			<div class="ui-g">
				<div class="ui-g-8" align="left">
					<p:commandButton id="button" value="Create CTA"
						action="#{navigationBean.createCTA}" />
				</div>
				<div class="uri-g-3" align="right"></div>
				<div class="uri-g-1" align="right">
					<p:outputLabel id="userid" value="Welcome #{welcomeBean.username}"
						readonly="true" />
				</div>
			</div>



			<p:dataList var="cta" value="#{welcomeBean.ctas}">
				<p:outputLabel value="CTA#" />
				<p:outputLabel value="#{cta.id}" />
				<p:outputLabel value="#{cta.source}" />
				<p:outputLabel value="#{cta.status}" />
				<p:outputLabel value="#{cta.description}" />
				<p:outputLabel value="#{cta.dueDate}" />
			</p:dataList>

			<br />
			<p:commandLink action="#{welcomeBean.doLogout}" value="Logout" />

		</h:form>

	</ui:define>
</ui:composition>