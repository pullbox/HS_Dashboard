<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	template="/templates/tr-template.xhtml">

	<ui:define name="content">


		<h:form id="welcome">
			<h:message id="messages" showDetail="true" autoUpdate="true"
				closable="true" />



			<p:panel id="div_header">
				<div align="left">
					<p:commandButton id="createCTA" value="Create CTA"
						action="#{navigationBean.createCTA}" />
						<p:commandButton id="CSStory" value="Manage Success Storyline"
						action="#{navigationBean.successStories}" />
				</div>

				<div align="right">
					<p:outputLabel id="userid" value="Welcome #{welcomeBean.userName}"
						readonly="true" />
				</div>
			</p:panel>

			<p:dataTable var="cta" value="#{welcomeBean.riskctas}"
				emptyMessage="No Risk records available!" widgetVar="riskTable"
				filteredValue="#{welcomeBean.filteredriskctas}">
				<f:facet name="header">
					<p:outputPanel>
						<div class="ui-g">
							<div class="ui-g-6" align="left">
								<h:outputText value="Risks  #{fn:length(welcomeBean.riskctas)}" />
							</div>
							<div class="ui-g-6" align="right">
								<h:outputText value="Search:" />
								<p:inputText id="globalFilter"
									onkeyup="PF('riskTable').filter()" style="width:150px"
									placeholder="Enter keyword" />
							</div>
						</div>
					</p:outputPanel>
				</f:facet>
				<ui:include src="/secured/welcometablelist.xhtml" />
			</p:dataTable>
			<br />
			<p:dataTable var="cta" value="#{welcomeBean.adoptionctas}"
				emptyMessage="No Adoption records available!">
				<f:facet name="header">
					<p:outputPanel>
						<div align="left">
							<h:outputText
								value="Adoptions   #{fn:length(welcomeBean.adoptionctas)}" />
						</div>
					</p:outputPanel>
				</f:facet>
				<ui:include src="/secured/welcometablelist.xhtml" />
			</p:dataTable>
			<br />
			<p:dataTable var="cta" value="#{welcomeBean.expansionctas}"
				emptyMessage="No Expansion records available!">
				<f:facet name="header">
					<p:outputPanel>
						<div align="left">
							<h:outputText
								value="Expansions    #{fn:length(welcomeBean.expansionctas)}" />
						</div>
					</p:outputPanel>
				</f:facet>
				<ui:include src="/secured/welcometablelist.xhtml" />
			</p:dataTable>
			<br />

			<p:dataTable var="cta" value="#{welcomeBean.lifecyclectas}"
				emptyMessage="No LifeCycle records available!">
				<f:facet name="header">
					<p:outputPanel>
						<div align="left">
							<h:outputText
								value="Lifecycle    #{fn:length(welcomeBean.lifecyclectas)}" />
						</div>
					</p:outputPanel>

				</f:facet>
				<ui:include src="/secured/welcometablelist.xhtml" />
			</p:dataTable>


			<br />
			<p:commandLink action="#{welcomeBean.doLogout}" value="Logout" />
			<p:sticky target="div_header" />
		</h:form>

	</ui:define>
</ui:composition>